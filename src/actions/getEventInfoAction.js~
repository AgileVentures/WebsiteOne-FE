import axios from 'axios'
import { GET_PROJECT_INFO } from '../types'

<<<<<<< HEAD
export let fetchProjectInfo = slug => dispatch => {
  return axios.get(`api/v1/projects/${slug}`).then(response => {
    let {
      project,
      sourceRepositories,
      members,
      membersGravatarUrl,
      videos
    } = response.data
    project.sourceRepositories = sourceRepositories
    project.members = members
    project.membersGravatarUrl = membersGravatarUrl
    project.videos = videos
    dispatch({ type: GET_PROJECT_INFO, payload: project })
  })
=======
export let fetchEventInfo = slug => dispatch => {
  return axios
    .get(`/api/v1/events/${slug}`)
    .then(response => {
      let {
        event,
        videos,
        creator,
        creatorGravatarUrl,
        createdAt,
        modifier,
        modifierGravatarUrl,
        updatedAt,
        nextScheduledEvent
      } = response.data
      event.videos = videos
      event.creator = creator
      event.creatorGravatarUrl = creatorGravatarUrl
      event.modifier = modifier
      event.modifierGravatarUrl = modifierGravatarUrl
      event.createdAt = createdAt
      event.updatedAt = updatedAt
      event.nextScheduledEvent = nextScheduledEvent

      dispatch({ type: GET_EVENT_INFO, payload: event })
    })
>>>>>>> Add EventInfo and EventSummary Components
}

